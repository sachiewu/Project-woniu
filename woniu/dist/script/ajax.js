"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function ajax(n){return new Promise(function(a,t){var e=new XMLHttpRequest;if(n.type=n.type||"get",!n.url||" "===n.url)throw new Error("请输入接口地址");function o(t){var a=[];for(var e in t)a.push(e+"="+t[e]);return a.join("&")}function r(t){if("json"===n.dataType)try{t=JSON.parse(t)}catch(t){throw new Error("数据无法转换成json对象")}a(t)}(0==n.async||"false"==n.async?n.async=!1:n.async=!0,n.data&&"get"===n.type&&("object"!==_typeof(n.data)||Array.isArray(n.data)||(n.data=o(n.data)),n.url+="?"+n.data),e.open(n.type,n.url,n.async),n.data&&"post"===n.type?("object"!==_typeof(n.data)||Array.isArray(n.data)||(n.data=o(n.data)),e.setRequestHeader("content-type","application/x-www-form-urlencoded"),e.send(n.data)):e.send(),n.async)?e.onreadystatechange=function(){4===e.readyState&&(200===e.status?r(e.responseText):t("接口地址有误!"+e.status))}:200===e.status?r(e.responseText):t("接口地址有误!"+e.status)})}