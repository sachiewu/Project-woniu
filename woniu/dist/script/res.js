"use strict";var username=$("#username"),errusername=$(".err-username"),password=$("#password"),errpass=$(".err-password"),surepass=$("#confirmPassword"),sureserrpass=$(".err-pass"),submit=$(".submit");username.on("focus",function(){""==$(this).val()&&(errusername.html("请输入正确的用户名"),errusername.css({color:"#999"}))}),username.on("blur",function(){if(""!=$(this).val()){/^[\w-\.]{6,16}$/.test($(this).val)?(errusername.html("√"),errusername.css("color","green")):(errusername.html("输入的用户名有误"),errusername.css("color","red"))}else errusername.html("请输入用户名"),errusername.css("color","red")}),password.on("focus",function(){""==$(this).val()&&(errpass.html("请输入密码"),errpass.css("color","#999"))}),password.on("blur",function(){if(""!=$(this).val()){/^[\w-\.]{6,16}$/.test($(this))?(errpass.html("√"),errpass.css("color","green")):(errpass.html("密码格式错误"),errpass.css("color","red"))}else errpass.html("请输入密码"),errpass.css("color","red")}),surepass.on("focus",function(){$(this).val()&&(sureserrpass.html("请确认密码"),sureserrpass.css("color","#999"))}),surepass.on("blur",function(){$(this).val()==password.val()?(sureserrpass.html("√"),sureserrpass.css("color","green")):(sureserrpass.html("两次输入的密码不一致"),sureserrpass.css("color","red"))});var flag=!0;username.on("blur",function(){$.ajax({type:"post",url:"http://10.31.158.24/1905-js/project/woniu/php/reg.php",data:{name:username.val(),pass:password.val(),conpass:surepass.val()},success:function(s){flag=s?(errusername.html("用户名已存在"),errusername.css("color","red"),!1):(errusername.html("√"),errusername.css("color","green"),!0)}})}),submit.on("click",function(){if(!flag)return!1});